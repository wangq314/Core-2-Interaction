<html>

<head>
    <title>Collection of Frisbee Discs</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/peterhry/CircleType@2.3.1/dist/circletype.min.js"></script>
    <meta charset="utf-8" />
    <title>Collection of Frisbee Discs</title>
    <link rel="stylesheet" href="homepage.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC&display=swap" rel="stylesheet">
    <link href="https://fonts.cdnfonts.com/css/gill-sans-std" rel="stylesheet">
</head>

<body>
    <div class="container">
        <a href="/Users/criswang/Desktop/Core 2 Interaction/Project 2/mode2.html" class="disc">COLLECTION OF FRISBEE DISCS</a>
        <a href="/Users/criswang/Desktop/Core 2 Interaction/Project 2/mode2.html" class="disc">COLLECTION OF FRISBEE DISCS</a>
        <a href="/Users/criswang/Desktop/Core 2 Interaction/Project 2/mode2.html" class="disc">COLLECTION OF FRISBEE DISCS</a>
        <a href="/Users/criswang/Desktop/Core 2 Interaction/Project 2/mode2.html" class="disc">COLLECTION OF FRISBEE DISCS</a>
    </div>
    <div class="container2">
        <a href="/Users/criswang/Desktop/Core 2 Interaction/Project 2/mode2.html" class="disc">COLLECTION OF FRISBEE DISCS</a>
        <a href="/Users/criswang/Desktop/Core 2 Interaction/Project 2/mode2.html" class="disc">COLLECTION OF FRISBEE DISCS</a>
        <a href="/Users/criswang/Desktop/Core 2 Interaction/Project 2/mode2.html" class="disc">COLLECTION OF FRISBEE DISCS</a>
        <a href="/Users/criswang/Desktop/Core 2 Interaction/Project 2/mode2.html" class="disc">COLLECTION OF FRISBEE DISCS</a>
        
    </div>

    <div id="disc-container">
        <div id="next-disc-preview-container" class="image-container">
            <img id="nextDiscImage" class="image" width="300px" alt="Image" />
        </div>
        <div id="throwing-disc-container" class="image-container">
            <img id="discImage" class="image" src="Frisbee disc/1-1.png" width="300px" alt="Image" />
            <div class="disc-title">
                <h3>Meow</h3>
            </div>
        </div>
    </div>

    <button id="hand-button" onclick="handleFrisbee()"><img id="hand-image" class="hand"
            src="/Users/criswang/Desktop/Core 2 Interaction/Project 2/Hand/1.png">
    </button>

</body>
<script>
    const idleHand = "/Users/criswang/Desktop/Core 2 Interaction/Project 2/Hand/1.png";
    const throwHand = "/Users/criswang/Desktop/Core 2 Interaction/Project 2/Hand/3.png";
    const discs = [
        { filename: '1-1', name: '头像-Paperworker' },
        { filename: '1-2', name: '飞盘选手(白色)-Paperworker' },
        { filename: '1-3', name: '飞盘选手(黄色)-Paperworker' },
        { filename: '1-4', name: '露营-Paperworker' },
        { filename: '2-1', name: '飞跃（白色）' },
        { filename: '2-2', name: '飞跃（黄色）' },
        { filename: '2-3', name: '飞跃（再生色）' },
        { filename: '3-1', name: '自由-offesc X 野丸子' },
        { filename: '3-2', name: '成长-offesc X 野丸子' },
        { filename: '3-3', name: '魔法师-offesc X 野丸子' },
        { filename: '4-1', name: '爆棚女子力-Fuzzy Crew' },
        { filename: '4-2', name: '卷卷蓝-Fuzzy Crew' },
        { filename: '4-3', name: '滚筒兔兔-Fuzzy Crew' },
        { filename: '4-4', name: '旋转漩涡-Fuzzy Crew' },
        { filename: '4-4', name: '魅力时刻-Fuzzy Crew' },
        { filename: '5-1', name: 'White world-Paper Voice' },
        { filename: '5-2', name: 'Black world-Paper Voice' },
        { filename: '5-3', name: 'Cherubic Boy-Paper Voice' },
        { filename: '5-4', name: 'See U Tomato-Paper Voice' },
        { filename: '5-5', name: 'Dont Stop-Paper Voice' },
        { filename: '5-6', name: 'Tiny Boy-Paper Voice' },
        { filename: '5-7', name: 'Relaxation Time-Paper Voice' },
        { filename: '5-8', name: 'Bigfoot-Paper Voice' },
        { filename: '6-1', name: '绽放-女子力' },
        { filename: '6-2', name: '凝视-女子力' },
        { filename: '7-1', name: '怪物' },
        { filename: '8-1', name: '木棉初飞-木棉初飞' },
        { filename: '8-2', name: '木棉暗涌-木棉初飞' },
        { filename: '8-3', name: '木棉Lok花-木棉初飞' },
        { filename: '9-1', name: '大杏子-水果' },
        { filename: '9-2', name: '大曲奇-水果' },
        { filename: '9-3', name: '大番茄-水果' },
        { filename: '9-4', name: '大橙子-水果' },
        { filename: '9-5', name: '大包菜-水果' },
        { filename: '10-1', name: '粉墨登场-白色-PANDAPAN' },
        { filename: '10-2', name: '粉墨登场-黑色-PANDAPAN' },
        { filename: '10-3', name: '粉墨登场-粉色-PANDAPAN' },
        { filename: '11-1', name: '黄色-艾克星球' },
        { filename: '11-2', name: '白色-艾克星球' },
        { filename: '11-3', name: '绿色-艾克星球' },
        { filename: '11-4', name: '游乐园-艾克星球' },
        { filename: '11-5', name: '龙-艾克星球' },
        { filename: '12', name: '白色-炫星' },
        { filename: '13', name: '白色-爱飞盘' },
        { filename: '14-1', name: 'Black-ULTRASTAR SPORTDISC' },
        { filename: '14-2', name: 'Pearl Purple-ULTRASTAR SPORTDISC' },
        { filename: '14-3', name: 'Bright Red-ULTRASTAR SPORTDISC' },
        { filename: '14-4', name: 'White-160 GRAM SKYSTYLER SPORTDISC' },
        { filename: '14-5', name: 'Yellow-160 GRAM SKYSTYLER SPORTDISC' }
    ];
    let currentIndex = 0;
    let nextIndex = 1;

    let animation = anime({
        targets: '#throwing-disc-container',
        translateX: {
            value: 750,
            duration: 800
        },
        rotate: {
            value: 360,
            duration: 1800,
            easing: 'easeInOutSine'
        },
        scale: {
            value: 2,
            duration: 1600,
            delay: 800,
            easing: 'easeInOutQuart'
        },
        begin: startAnimation,
        complete: completeAnimation,
        delay: 250,
    });

    (function initPage() {
        updateBackupDisc()
        currentIndex = nextIndex
        nextIndex += 1
    })()

    function shuffleDiscs() {
        for (let i = discs.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [discs[i], discs[j]] = [discs[j], discs[i]];
        }
    }
    let currentTimeout;

    function resetHand() {
        document.querySelector('#hand-image').src = idleHand
    }

    function startAnimation() {
        clearTimeout(currentTimeout)
        resetHand()
        currentTimeout = setTimeout(() => {
            document.querySelector('#hand-image').src = throwHand;
        }, 200)
    }


    function completeAnimation() {
        resetHand()
        document.querySelector('.disc-title').style = 'visibility: visible';
        document.querySelector('.disc-title').textContent = discs[currentIndex].name;

    }

    function updateBackupDisc() {
        let randomDisc = discs[nextIndex].filename
        let imagePath = `./Frisbee disc/${randomDisc}.png`;
        document.querySelector('#nextDiscImage').src = imagePath
        document.querySelector('#next-disc-preview-container').style = 'display:block'
    }

    function handleFrisbee() {
        document.querySelector('.disc-title').style = 'visibility: hidden';

        if (nextIndex >= discs.length) {
            shuffleDiscs()
            nextIndex = 0
        }
        updateBackupDisc()

        let randomDisc = discs[currentIndex].filename
        let imagePath = `./Frisbee disc/${randomDisc}.png`;
        document.querySelector('#discImage').src = imagePath
        animation.restart()

        currentIndex = nextIndex
        nextIndex += 1
    }
</script>

</html>